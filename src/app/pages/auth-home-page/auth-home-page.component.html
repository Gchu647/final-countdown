<div class="container">
  <div class="auth-home">
    <div class="auth-home-contents">
      <div class="auth-home-contents-title">
        MESSAGES
      </div>

      <div class="auth-home-contents-personal">
        <div class="auth-home-contents-personal-title">
          PERSONAL
        </div>

        <div class="auth-home-contents-personal-filter">
          <label for="group">Filter: </label>
          <select name="group" class="auth-home-contents-personal-filter-group" [(ngModel)]="groupToFilter"
            (ngModelChange)="setRelationshipToFilter($event)">
            <option [value]="0" class="auth-home-contents-personal-filter-group-all">Show All</option>
            <option *ngFor="let group of groups" [value]="group.id">{{group.name}}</option>
          </select>
        </div>

        <div class="auth-home-contents-personal-list">
          <div *ngFor="let recipient of displayedRecipients" class="auth-home-contents-personal-list-recipient"
            routerLink="/messages/personal/{{recipient.id}}">
            <div class="auth-home-contents-personal-list-recipient-envelope">
              <!-- Source: Jam Icons (ENVELOPE-F) -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -5 24 24" width="24" height="24" preserveAspectRatio="xMinYMin"
                class="jam jam-envelope-f">
                <path d='M18.572.083L10.676 7.12a1 1 0 0 1-1.331 0L1.416.087A2 2 0 0 1 2 0h16a2 2 0 0 1 .572.083zm1.356 1.385c.047.17.072.348.072.532v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2c0-.185.025-.364.072-.534l7.942 7.148a3 3 0 0 0 3.992 0l7.922-7.146z' /></svg>
            </div>

            <div class="auth-home-contents-personal-list-recipient-name">
              {{recipient.f_name}} {{recipient.l_name}}
            </div>
          </div>
        </div>

        <div class="buttons">
          <button type="button" class="buttons-primary" routerLink="/messages/personal/new">NEW MESSAGE</button>
        </div>
      </div>

      <div class="auth-home-contents-group">
        <div class="auth-home-contents-group-title">
          GROUP
        </div>

        <div class="auth-home-contents-group-list">
          <div *ngFor="let group of groups" class="auth-home-contents-group-list-item" routerLink="/messages/group/{{group.id}}">
            <div class="auth-home-contents-group-list-item-icon">
              <!-- Source: Jam Icons (PENCIL) -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="-2.5 -2.5 24 24" width="24" height="24"
                preserveAspectRatio="xMinYMin" class="jam jam-pencil-f">
                <path d='M16.318 6.11l-3.536-3.535 1.415-1.414c.63-.63 2.073-.755 2.828 0l.707.707c.755.755.631 2.198 0 2.829L16.318 6.11zm-1.414 1.415l-9.9 9.9-4.596 1.06 1.06-4.596 9.9-9.9 3.536 3.536z' /></svg>
            </div>

            <div class="auth-home-contents-group-list-item-name">
              {{group.name.toUpperCase()}}
            </div>
          </div>
        </div>

      </div>

    </div>

    <div class="auth-home-footer">
      <!-- Show if trigger is NOT ACTIVE -->
      <button *ngIf="!triggerData || (triggerData && !triggerData.countdown)" class="auth-home-footer-toggle-countdown"
        (click)="toggleActivationModal()">
        <!-- Source: Jam Icons (ALERT) -->
        <svg *ngIf="!countdownExpired" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24" width="24" height="24"
          preserveAspectRatio="xMinYMin">
          <path d='M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-13a1 1 0 0 1 1 1v5a1 1 0 0 1-2 0V6a1 1 0 0 1 1-1zm0 10a1 1 0 1 1 0-2 1 1 0 0 1 0 2z' />
        </svg>
        <!-- Source: Jam Icons (CANDLE-F) -->
        <svg *ngIf="countdownExpired" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -1 24 24" width="24" height="24"
          preserveAspectRatio="xMinYMin" class="jam jam-candle-f">
          <path d='M7 9h6v6H7V9zm-5 8h16a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2zm8-8.6a3 3 0 0 1-3-3C7 4.295 8 2.495 10 0c2 2.495 3 4.295 3 5.4a3 3 0 0 1-3 3z' />
        </svg>
        <span *ngIf="!countdownExpired">ACTIVATE COUNTDOWN</span>
        <span *ngIf="countdownExpired">FAREWELL</span>

        <!-- Source: Jam Icons (ALERT) -->
        <svg *ngIf="!countdownExpired" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24" width="24" height="24"
          preserveAspectRatio="xMinYMin">
          <path d='M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-13a1 1 0 0 1 1 1v5a1 1 0 0 1-2 0V6a1 1 0 0 1 1-1zm0 10a1 1 0 1 1 0-2 1 1 0 0 1 0 2z' />
        </svg>
        <!-- Source: Jam Icons (CANDLE-F) -->
        <svg *ngIf="countdownExpired" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -1 24 24" width="24" height="24"
          preserveAspectRatio="xMinYMin" class="jam jam-candle-f">
          <path d='M7 9h6v6H7V9zm-5 8h16a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2zm8-8.6a3 3 0 0 1-3-3C7 4.295 8 2.495 10 0c2 2.495 3 4.295 3 5.4a3 3 0 0 1-3 3z' />
        </svg>
      </button>

      <!-- Show if trigger is ACTIVE -->
      <button *ngIf="triggerData && countdownActive" class="auth-home-footer-toggle-countdown" (click)="toggleDeactivationModal()">
        <!-- Source: Jam Icons (GHOST-F) -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-4 -2 24 24" width="24" height="24" preserveAspectRatio="xMinYMin"
          class="jam jam-ghost-f">
          <path d='M8 0a8 8 0 0 1 8 8v12l-4.919-1-3.08 1-2.992-1L0 20V8a8 8 0 0 1 8-8zM5.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z' />
        </svg>

        <span>
          {{addLeadingZero(countdownDisplay.days)}} :
          {{addLeadingZero(countdownDisplay.hours)}} :
          {{addLeadingZero(countdownDisplay.minutes)}} :
          {{addLeadingZero(countdownDisplay.seconds)}}
        </span>

        <!-- Source: Jam Icons (GHOST-F) -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-4 -2 24 24" width="24" height="24" preserveAspectRatio="xMinYMin"
          class="jam jam-ghost-f">
          <path d='M8 0a8 8 0 0 1 8 8v12l-4.919-1-3.08 1-2.992-1L0 20V8a8 8 0 0 1 8-8zM5.5 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z' />
        </svg>
      </button>
    </div>
  </div>
</div>

<div class="activation-modal" *ngIf="activationModalEnabled" (click)="toggleActivationModal()">
  <div class="activation-modal-inner" (click)="stopPropagation($event)">
    <div class="activation-modal-inner-content">
      <div class="activation-modal-inner-content-top">SEND MESSAGES IN:</div>
      <div class="activation-modal-inner-content-bottom">
        <select class="activation-modal-inner-content-countdown-days" [(ngModel)]="countdownDayValue">
          <option *ngFor="let countdownDay of countdownDays" value="{{countdownDay}}">{{countdownDay}}</option>
        </select>
        <span *ngIf="countdownDayValue < 2">DAY</span>
        <span *ngIf="countdownDayValue > 1">DAYS</span>
      </div>
    </div>

    <div class="buttons">
      <button type="button" class="buttons-danger-primary" (click)="toggleActiveCountdown()">ACTIVATE</button>
      <button type="button" class="buttons-danger-secondary" (click)="toggleActivationModal()">CANCEL</button>
    </div>
  </div>
</div>

<div class="deactivation-modal" *ngIf="deactivationModalEnabled" (click)="toggleDeactivationModal()">
  <div class="deactivation-modal-inner" (click)="stopPropagation($event)">
    <div class="deactivation-modal-inner-content">
      <div class="deactivation-modal-inner-content-top">
        SENDING MESSAGES ON:
      </div>
      <div class="deactivation-modal-inner-content-bottom">
        <div class="deactivation-modal-inner-content-bottom-time">
          {{getFormattedTime(triggerData.countdown)}}
        </div>
        <div class="deactivation-modal-inner-content-bottom-timezone">
          {{getFormattedTimeZone(triggerData.countdown)}}
        </div>
      </div>
    </div>

    <div class="buttons">
      <button type="button" class="buttons-danger-primary" (click)="toggleActiveCountdown()">DEACTIVATE</button>
      <button type="button" class="buttons-danger-secondary" (click)="toggleDeactivationModal()">GO&nbsp;&nbsp;BACK</button>
    </div>
  </div>
</div>

<div class="messages-sent-modal" *ngIf="messagesSentModalEnabled" (click)="toggleMessagesSentModal('click')">
  <div class="messages-sent-modal-inner" (click)="stopPropagation($event)">
    <div class="messages-sent-modal-inner-content">
      <div class="messages-sent-modal-inner-content-top">
        <strong>MESSAGES&nbsp;&nbsp;EN&nbsp;&nbsp;ROUTE</strong>
      </div>
      <div class="messages-sent-modal-inner-content-bottom">
        <p>Your messages will be delivered shortly</p>
        <p>Thank you for using the Final Countdown</p>
      </div>
      <div class="buttons">
        <button type="button" class="buttons-danger-primary" (click)="toggleMessagesSentModal('click')">OK</button>
      </div>
    </div>
  </div>
</div>